{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\qwerty\\\\PycharmProjects\\\\MERN\\\\restaurant-reviews\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState,useEffect}from\"react\";import RestaurantDataService from\"../services/restaurant\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RestaurantsList=function RestaurantsList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),restaurants=_useState2[0],setRestaurants=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchName=_useState4[0],setSearchName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchZip=_useState6[0],setSearchZip=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),searchCuisine=_useState8[0],setSearchCuisine=_useState8[1];var _useState9=useState([\"All Cuisines\"]),_useState10=_slicedToArray(_useState9,2),cuisines=_useState10[0],setCuisines=_useState10[1];useEffect(function(){retrieveRestaurants();retrieveCuisines();},[]);var onChangeSearchName=function onChangeSearchName(e){var searchName=e.target.value;setSearchName(searchName);};var onChangeSearchZip=function onChangeSearchZip(e){var searchZip=e.target.value;setSearchZip(searchZip);};var onChangeSearchCuisine=function onChangeSearchCuisine(e){var searchCuisine=e.target.value;setSearchCuisine(searchCuisine);};var retrieveRestaurants=function retrieveRestaurants(){// console.log(\"I'm here retrived all...\");\nRestaurantDataService.getAll().then(function(response){console.log(response.data);setRestaurants(response.data.restaurants);}).catch(function(e){console.log(e);});};var retrieveCuisines=function retrieveCuisines(){// console.log(\"I'm here retrived cusine...\");\nRestaurantDataService.getCuisines().then(function(response){console.log(response.data);setCuisines([\"All Cuisines\"].concat(response.data));}).catch(function(e){console.log(e);});};var refreshList=function refreshList(){retrieveRestaurants();};var find=function find(query,by){RestaurantDataService.find(query,by).then(function(response){console.log(response.data);setRestaurants(response.data.restaurants);}).catch(function(e){console.log(e);});};var findByName=function findByName(){find(searchName,\"name\");};var findByZip=function findByZip(){find(searchZip,\"zipcode\");};var findByCuisine=function findByCuisine(){if(searchCuisine===\"All Cuisines\"){refreshList();}else{find(searchCuisine,\"cuisine\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row pb-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group col-lg-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by name\",value:searchName,onChange:onChangeSearchName}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:findByName,children:\"Search\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group col-lg-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by zip\",value:searchZip,onChange:onChangeSearchZip}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:findByZip,children:\"Search\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group col-lg-4\",children:[/*#__PURE__*/_jsx(\"select\",{onChange:onChangeSearchCuisine,children:cuisines.map(function(cuisine){return/*#__PURE__*/_jsxs(\"option\",{value:cuisine,children:[\" \",cuisine.substr(0,20),\" \"]});})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:findByCuisine,children:\"Search\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:restaurants.map(function(restaurant){var address=\"\".concat(restaurant.address.building,\" \").concat(restaurant.address.street,\", \").concat(restaurant.address.zipcode);return/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 pb-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:restaurant.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cuisine: \"}),restaurant.cuisine,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Address: \"}),address]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(Link,{to:\"/restaurants/\"+restaurant._id,className:\"btn btn-primary col-lg-5 mx-1 mb-1\",children:\"View Reviews\"}),/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",rel:\"noreferrer\",href:\"https://www.google.com/maps/place/\"+address,className:\"btn btn-primary col-lg-5 mx-1 mb-1\",children:\"View Map\"})]})]})})});})})]});};export default RestaurantsList;","map":{"version":3,"sources":["C:/Users/qwerty/PycharmProjects/MERN/restaurant-reviews/frontend/src/components/restaurants-list.js"],"names":["React","useState","useEffect","RestaurantDataService","Link","RestaurantsList","props","restaurants","setRestaurants","searchName","setSearchName","searchZip","setSearchZip","searchCuisine","setSearchCuisine","cuisines","setCuisines","retrieveRestaurants","retrieveCuisines","onChangeSearchName","e","target","value","onChangeSearchZip","onChangeSearchCuisine","getAll","then","response","console","log","data","catch","getCuisines","concat","refreshList","find","query","by","findByName","findByZip","findByCuisine","map","cuisine","substr","restaurant","address","building","street","zipcode","name","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport RestaurantDataService from \"../services/restaurant\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst RestaurantsList = (props) => {\r\n  const [restaurants, setRestaurants] = useState([]);\r\n  const [searchName, setSearchName] = useState(\"\");\r\n  const [searchZip, setSearchZip] = useState(\"\");\r\n  const [searchCuisine, setSearchCuisine] = useState(\"\");\r\n  const [cuisines, setCuisines] = useState([\"All Cuisines\"]);\r\n\r\n  useEffect(() => {\r\n    retrieveRestaurants();\r\n    retrieveCuisines();\r\n  }, []);\r\n\r\n  const onChangeSearchName = (e) => {\r\n    const searchName = e.target.value;\r\n    setSearchName(searchName);\r\n  };\r\n\r\n  const onChangeSearchZip = (e) => {\r\n    const searchZip = e.target.value;\r\n    setSearchZip(searchZip);\r\n  };\r\n\r\n  const onChangeSearchCuisine = (e) => {\r\n    const searchCuisine = e.target.value;\r\n    setSearchCuisine(searchCuisine);\r\n  };\r\n\r\n  const retrieveRestaurants = () => {\r\n        // console.log(\"I'm here retrived all...\");\r\n    RestaurantDataService.getAll()\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        setRestaurants(response.data.restaurants);\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  const retrieveCuisines = () => {\r\n        // console.log(\"I'm here retrived cusine...\");\r\n    RestaurantDataService.getCuisines()\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        setCuisines([\"All Cuisines\"].concat(response.data));\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  const refreshList = () => {\r\n    retrieveRestaurants();\r\n  };\r\n\r\n  const find = (query, by) => {\r\n    RestaurantDataService.find(query, by)\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        setRestaurants(response.data.restaurants);\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  const findByName = () => {\r\n    find(searchName, \"name\");\r\n  };\r\n\r\n  const findByZip = () => {\r\n    find(searchZip, \"zipcode\");\r\n  };\r\n\r\n  const findByCuisine = () => {\r\n    if (searchCuisine === \"All Cuisines\") {\r\n      refreshList();\r\n    } else {\r\n      find(searchCuisine, \"cuisine\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"row pb-1\">\r\n        <div className=\"input-group col-lg-4\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Search by name\"\r\n            value={searchName}\r\n            onChange={onChangeSearchName}\r\n          />\r\n          <div className=\"input-group-append\">\r\n            <button\r\n              className=\"btn btn-outline-secondary\"\r\n              type=\"button\"\r\n              onClick={findByName}\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"input-group col-lg-4\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Search by zip\"\r\n            value={searchZip}\r\n            onChange={onChangeSearchZip}\r\n          />\r\n          <div className=\"input-group-append\">\r\n            <button\r\n              className=\"btn btn-outline-secondary\"\r\n              type=\"button\"\r\n              onClick={findByZip}\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"input-group col-lg-4\">\r\n          <select onChange={onChangeSearchCuisine}>\r\n            {cuisines.map((cuisine) => {\r\n              return <option value={cuisine}> {cuisine.substr(0, 20)} </option>;\r\n            })}\r\n          </select>\r\n          <div className=\"input-group-append\">\r\n            <button\r\n              className=\"btn btn-outline-secondary\"\r\n              type=\"button\"\r\n              onClick={findByCuisine}\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        {restaurants.map((restaurant) => {\r\n          const address = `${restaurant.address.building} ${restaurant.address.street}, ${restaurant.address.zipcode}`;\r\n          return (\r\n            <div className=\"col-lg-4 pb-1\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{restaurant.name}</h5>\r\n                  <p className=\"card-text\">\r\n                    <strong>Cuisine: </strong>\r\n                    {restaurant.cuisine}\r\n                    <br />\r\n                    <strong>Address: </strong>\r\n                    {address}\r\n                  </p>\r\n                  <div className=\"row\">\r\n                    <Link\r\n                      to={\"/restaurants/\" + restaurant._id}\r\n                      className=\"btn btn-primary col-lg-5 mx-1 mb-1\"\r\n                    >\r\n                      View Reviews\r\n                    </Link>\r\n                    <a\r\n                      target=\"_blank\" rel=\"noreferrer\"\r\n                      href={\"https://www.google.com/maps/place/\" + address}\r\n                      className=\"btn btn-primary col-lg-5 mx-1 mb-1\"\r\n                    >\r\n                      View Map\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantsList;"]},"metadata":{},"sourceType":"module"}